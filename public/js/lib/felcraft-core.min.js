_.extend(window,{FC:null}),function(a,b,c,d){FC=function(){this.view_instances={},this.model_instances={},this.collection_instances={},this.main_ele="#content",this.default_route="new",this.connected=!1,this.appKey="",this.CDN=""},FC.prototype={set_options:function(a){var b=this;c.each(a,function(a,c){b[a]=c}),this.$el=c(this.main_ele)},get:function(a){var b;return a.view?b=this.get_view(a.view,a.model,a.collection):a.model?b=this.get_model(a.model):a.collection&&(b=this.get_collection(a.collection)),b},alert:function(a){var b=this.get({view:{name:"header"}});b.trigger("alert",a)},init:function(b){d.isUndefined(this.Lib)||d.extend(this,new this.Lib);var c=Backbone.View.prototype.remove;Backbone.View.prototype.remove=function(){return this.trigger("remove"),c.apply(this,arguments)},this.set_options(b),void 0!=a.location.hash&&""!=a.location.hash||(a.location.hash=this.default_route),this.active_router=new this.router,Backbone.history.start()}},d.extend(FC.prototype,{view_definitions:{},model_definitions:{},collection_definitions:{}})}(window,document,jQuery,_),function(a,b){a.FC.prototype.router=Backbone.Router.extend({routes:{"new":"render_new","app/:region/:server/:charName":"render_char","app/:region/:server/:charName/:page":"render_char_page"},render_new:function(){var a={server:"",region:"",name:"",isFound:!1};this.view=new FC.NewCharSplashView(a)},render_char:function(a,b,c){if(console.log("Hit render_char route with: ","region: ",a,"server: ",b,"char: ",c),this.view){var d=this.view.model;if(console.log("Current Model",d,d.attributes.name,d.attributes.server,d.attributes.region),d.attributes.name==c&&d.attributes.server==b&&d.attributes.region==a)console.log("Found a pre-verified new character!"),this.view=new FC.CharacterView(d);else{var e=new FC.Character;e.set({region:a,server:b,name:c}),this.view=new FC.CharacterView(e)}}else{var e=new FC.Character;e.set({region:a,server:b,name:c}),this.view=new FC.CharacterView(e)}}})}(window,jQuery);